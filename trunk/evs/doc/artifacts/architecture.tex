\documentclass[a4paper]{article}
\usepackage[english]{babel}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage[latin1]{inputenc}
\usepackage{lastpage}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{tabls} \setlength\tablinesep{3pt}
\usepackage{url}
\usepackage[bf]{caption}
\usepackage{float}
% new float environment

\setlength{\parindent}{0mm}
\renewcommand{\familydefault}{\sfdefault}

% ------------------------------     CODE ENVIRONMENT
\floatstyle{boxed}
\newfloat{code}{htp}{lop}
\floatname{code}{Listing}
\DeclareFontShape{OT1}{cmtt}{bx}{n}{<4><5><6><7><8><9><10><10.95><12><14.4><17.28><20.74><24.88>cmttb10}{}

\begin{document}
\begin{titlepage}
	\bigskip
	\bigskip
	\bigskip
	\begin{center}
		\includegraphics{informatik-tuwien.png}\\
		\vspace{1cm}
		\Huge{\textsf{\textbf{Design Methods for Distributed Systems\\}}}
		\vspace{1cm}
		\huge{\textsf{\textbf{Architecture\\}}}
		\vspace{1cm}
		\LARGE{\textsf{VU Entwurfsmethoden f\"{u}r Verteilte Systeme\\}}
		\vspace{1cm}
		\Large{\textsf{SS 2008\\}}
	\end{center}
	\vfill
	\begin{center}
		\large{\textsf{\textbf{Group 69}}}
	\end{center}
	\begin{tabular}{llll}
	\textsf{Martina Lindorfer} & \textsf{0626770} & \textsf{066937} & \url{e0626770@student.tuwien.ac.at}\\
	\textsf{Florian Lukavsky} & \textsf{0325558} & \textsf{066937} & \url{e0325558@student.tuwien.ac.at}\\
	\textsf{Daniel Priewasser} & \textsf{0626777} & \textsf{066937} & \url{e0626777@student.tuwien.ac.at}\\
	\textsf{Gerald Scharitzer} & \textsf{0127228} & \textsf{066937} & \url{e0127228@student.tuwien.ac.at}\\
	\textsf{Dirk Wallerstorfer} & \textsf{0626775} & \textsf{066937} & \url{e0626775@student.tuwien.ac.at}\\
	\end{tabular}
\end{titlepage}

\clearpage

\pagestyle{fancy}				
\pagenumbering{arabic}				
\lhead{\small{\textbf{Design Methods for Distributed Systems: } Architecture}}
\rhead{\small{Page \thepage/\pageref{LastPage}}}
\fancyfoot{}
\tableofcontents

\newpage

\section{Introduction}
\subsection{Lab Content \& Purpose}

In the course of this lab exercise a peer-based middleware based on the design and architecture described in \cite{zdun2008} was developed. For demonstration purposes a distributed sales system for an eCommerce company including functionalities for managing customers and products, authorization and ordering was implemented.

\begin{figure}[ht!]
	\centering\includegraphics[width=10cm]{architektur.png} 
	\caption{Overall Architecture based on \cite{zdun2008}}
	\label{fig:architecture}
\end{figure}

\subsection{Scope of this Document}
The purpose of this document is the specification of the architecture of the developed middleware. Additionally a description of the provided distributed sales system as an example use case scenario as well a description of various provided unit tests is given. \\The document clearly focuses on architectural aspects and is not intended as a documentation of the source code, functions and parameters. For this purpose a separate Javadoc is provided.



\include{logical-view}

\section{Development View}

\subsection{Tools}

	\begin{tabular}{|l|l|l|}
	\hline
	Development Environment & Eclipse 3.3.2 & \url{http://www.eclipse.org/}\\
	\hline
	Programming Language & Java 5 & \url{http://java.sun.com/}\\
	\hline
	Web Services & Axis2 1.4 & \url{http://ws.apache.org/axis2/}\\
	\hline
	Unit Tests & JUnit 4 & \url{http://junit.org/}\\
	\hline
	Build Tool & Ant 1.7 & \url{http://ant.apache.org/}\\
	\hline
	Version Control & Subclipse 1.2.4 & \url{http://subclipse.tigris.org/}\\
	\hline
	\end{tabular}

\subsection{Naming Rules}

\begin{itemize}
\item The top level package is ``evs'' (for the middleware implementation) or ``evsbsp'' (for the use case implementation) and there is only one level of sub packages.
\item Interface names start with ``I''.
\item Abstract class names start with ``A''.
\end{itemize}

\subsection{Packages}

	\begin{tabular}{|l|l|}
	\hline
	\texttt{evs.axis} & Axis2 request handling\\
	\hline
	\texttt{evs.core} & communcation framework\\
	\hline
	\texttt{evs.exception} & remoting exceptions\\
	\hline
	\texttt{evs.idl} & interface definition language\\
	\hline
	\texttt{evs.interfaces} & interfaces for communication framework\\
	\hline
	\texttt{evs.main} & main classes\\
	\hline
	\texttt{evsbsp.client} & client-part of the use case scenario\\
	\hline
	\texttt{evsbsp.entities} & business entities of the use case scenario\\
	\hline
	\texttt{evsbsp.junit} & JUnit tests\\
	\hline
	\texttt{evsbsp.server} & server-part of the use case scenario\\
	\hline
	\texttt{dummy.*} & simple use case for unit testing the middleware\\
	\hline
	\end{tabular}

\newpage
\include{process-view}


\section{Scenarios}

\subsection{Use Cases}

\subsubsection{Manage Customers}
The server stores customer objects in memory. To manage these customers, the server provides a create and an update function. The customer's ID is generated by the server and is the only parameter of a customer, that may not be changed, in order to allow the server to uniquely identify the desired customer. Customer's name, username and password, in contrast, may be changed. Additionally the customer object provides functionality to keep record of all orders, placed by this specific customer.

\subsubsection{Manage Products}
The management procedures of products are similar to those of customers. Products are stored in memory and can be manipulated with a create and update function. As with the customer, the server allocates a unique ID to each newly created product. Furthermore a product is described by its name and its price.

\subsubsection{Customer Login}
In order to place an order, the customer has to identify itself with its username and password. If the login is successful, a \texttt{Customer} object is returned, holding the customer's data, and all its placed orders.

\subsubsection{Find Product}
The server provides functionality to obtain all available products. The customer can pick some of these and add them to an order, which he can decide to buy.

\subsubsection{Buy Order}
After the customer has successfully logged in and decided which products to add to the order, he can call the servers buy order method, sending the generated order object and attached to it, the customer's object. The server adds the order to the customer whos ID corresponds to the ID received by the server, making it accessible in later sessions.



\section{Configuration}
The file \texttt{conf/evs.properties} contains configurable parameters of the middleware implementation. These include the location of the peer as well as lease time, pool size, passivation timeout and passivation directory for the lifecycle management.

\clearpage

\section{Conclusio}
The developed middleware is based on the design and architecture as described in \cite{zdun2008}. Additionally the middleware uses most of the basic Remoting Patterns shown during the evs lecture in the summer term of 2008. To be more accurate, the so called \texttt{minimal solution} presenting the communication framework is implemented. As part of this framework we provide the following functionality:
\begin{itemize}
\item Each peer uses a RequestHandler, providing the functionality of the Client- and Server-RequestHandler.
\item Remote invocations are abstracted using a Requestor and Invoker.
\item A Client Proxy shares a common interface with the Remote Object and maps its methods to calls to the Requestor's invocation interface.
\item The remote invocation data consists of 1) methods and parameter 2) an Object ID 3) an Absolut Object Reference.
\item Flexible protocol implementation is provided using Protocol Plugins.
\end{itemize}

The enhanced capabilities of the middleware, as described in extension part 1, are provided with some shortcomings: We do not provide the federation approach using Configuration Groups. Except this the middleware implements the following client-side asynchronous invocations: Fire and Forget, Poll Object, Result Callback. The implementation of an interceptor architecture based on Extension Patterns and an architecture for activation of distributed objects, using Lifecycle Managemnet Patterns is supported by the middleware.

The functionality of dynamic deployment of new services is provided by the implemented Peer. The Peer configuration and invocation is implemented using Java instead of Frag. To demonstrate the correct behavior of the presented middleware we provide the following provisions:
\begin{itemize}
\item The middleware is used to implement a distributed sales system for an eCommerce company.
\item For this eCommerce company we provide corresponding JUnit tests.
\item JUnit test for parts of the middleware are also provided.
\end{itemize}


\clearpage
\appendix
\section{Abbreviations and Acronyms}
\vspace{0.5cm}
	\begin{tabular}{|l|l|}
	\hline
	ACT & Asynchronous Completion Token\\
	\hline
	AOR & Absolute Object Reference\\
	\hline
	IDL & Interface Description Language\\
	\hline
	IP & Internet Protocol\\
	\hline
	SOAP & Simple Object Access Protocol\\
	\hline
	TCP & Transmission Control Protocol\\
	\hline
	\end{tabular}

\vspace{1cm}

\section{References}
\renewcommand{\refname}{}
\vspace{-1cm}
\bibliographystyle{plain}
\bibliography{bibliography}

\end{document}
